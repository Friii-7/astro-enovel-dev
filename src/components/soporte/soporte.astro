---
// Componente soporte - Página de soporte técnico
---

<section class="soporte-section">
  <div class="soporte-container">
    <!-- Título principal -->
    <div class="soporte-title-bar">
      <h1 class="soporte-title">Bienvenido a soporte enovel</h1>
    </div>

    <!-- Sección de FAQ/Accordion -->
    <div class="soporte-faq">
      <!-- FAQ Item 1 - Colapsado -->
      <div class="faq-item collapsed">
        <div class="faq-question">
          <span class="faq-text">¿Como solicito soporte?</span>
          <button class="faq-toggle" data-faq-toggle>
            <i class="fas fa-plus"></i>
          </button>
        </div>
        <div class="faq-answer">
          <p>
            Es un hecho establecido hace demasiado tiempo que un lector se
            distraerá con el contenido del texto de un sitio mientras que mira
            su diseño. El punto de usar Lorem Ipsum es que tiene una
            distribución más o menos normal de las letras, al contrario de usar
            textos como por ejemplo "Contenido aquí, contenido aquí".
          </p>
        </div>
      </div>

      <!-- FAQ Item 2 - Colapsado -->
      <div class="faq-item collapsed">
        <div class="faq-question">
          <span class="faq-text">¿Como solicito soporte?</span>
          <button class="faq-toggle" data-faq-toggle>
            <i class="fas fa-plus"></i>
          </button>
        </div>
        <div class="faq-answer">
          <p>
            Es un hecho establecido hace demasiado tiempo que un lector se
            distraerá con el contenido del texto de un sitio mientras que mira
            su diseño. El punto de usar Lorem Ipsum es que tiene una
            distribución más o menos normal de las letras, al contrario de usar
            textos como por ejemplo "Contenido aquí, contenido aquí".
          </p>
        </div>
      </div>

      <!-- FAQ Item 3 - Expandido -->
      <div class="faq-item expanded">
        <div class="faq-question">
          <span class="faq-text">¿Como solicito soporte?</span>
          <button class="faq-toggle" data-faq-toggle>
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="faq-answer">
          <p>
            Es un hecho establecido hace demasiado tiempo que un lector se
            distraerá con el contenido del texto de un sitio mientras que mira
            su diseño. El punto de usar Lorem Ipsum es que tiene una
            distribución más o menos normal de las letras, al contrario de usar
            textos como por ejemplo "Contenido aquí, contenido aquí".
          </p>
        </div>
      </div>
    </div>

    <!-- Footer con Freshdesk -->
    <div class="soporte-footer">
      <div class="footer-content">
        <div class="footer-left">
          <div class="freshdesk-logo">
            <i class="fas fa-headset freshdesk-icon"></i>
            <span class="freshdesk-text">freshdesk</span>
          </div>
          <p class="footer-description">
            Toda la gestión de envovel se hace por medio de helpdesk
          </p>
        </div>
        <button class="btn-soporte" onclick="window.open('https://enovel.freshdesk.com/support/tickets/new', '_blank')"> SOPORTE </button>
      </div>
    </div>
  </div>
</section>

<script>
  // Función para manejar el toggle de FAQ
  function toggleFaq(button: HTMLButtonElement) {
    const faqItem = button.closest(".faq-item") as HTMLElement;
    const icon = button.querySelector("i") as HTMLElement;
    
    if (!faqItem || !icon) return;

    // Toggle expanded class
    const isExpanded = faqItem.classList.contains("expanded");
    
    if (isExpanded) {
      faqItem.classList.remove("expanded");
      faqItem.classList.add("collapsed");
      icon.className = "fas fa-plus";
    } else {
      faqItem.classList.remove("collapsed");
      faqItem.classList.add("expanded");
      icon.className = "fas fa-times";
    }
  }

  // Inicializar cuando el DOM esté listo
  document.addEventListener('DOMContentLoaded', function() {
    // Agregar event listeners a todos los botones de toggle
    const toggleButtons = document.querySelectorAll('[data-faq-toggle]');
    
    toggleButtons.forEach(button => {
      button.addEventListener('click', function(this: HTMLButtonElement, e) {
        e.preventDefault();
        toggleFaq(this);
      });
    });
  });

  // También manejar clicks en toda la pregunta para mejor UX
  document.addEventListener('DOMContentLoaded', function() {
    const faqQuestions = document.querySelectorAll('.faq-question');
    
    faqQuestions.forEach(question => {
      question.addEventListener('click', function(this: HTMLElement, e) {
        // No ejecutar si se hizo click en el botón (ya se maneja arriba)
        if ((e.target as HTMLElement).closest('.faq-toggle')) {
          return;
        }
        
        const button = this.querySelector('.faq-toggle') as HTMLButtonElement;
        if (button) {
          toggleFaq(button);
        }
      });
    });
  });
</script>

<style>
  .soporte-section {
    background: linear-gradient(rgba(1, 7, 56, 0.8), rgba(1, 7, 56, 0.8)),
      url(/images/Rectangle 54.webp);
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    padding: 6rem 2rem;
    position: relative;
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    max-width: 100vw;
  }

  .soporte-container {
    max-width: 800px;
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 2rem;
    margin: 0 auto;
  }

  /* Título principal */
  .soporte-title-bar {
    font-size: 1.5rem;
    font-weight: 700;
    color: #010738;
    margin-bottom: 0.75rem;
    line-height: 1.3;
    text-align: left;
  }

  .soporte-title {
    font-size: 2.5rem;
    font-weight: 600;
    color: #ffffff;
    text-align: center;
    margin: 0;
  }

  /* Sección FAQ */
  .soporte-faq {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }

  .faq-item {
    background: white;
    border-radius: 4px;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .faq-question {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 2rem;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .faq-question:hover {
    background-color: #f8f9fa;
  }

  .faq-text {
    font-size: 1.1rem;
    font-weight: 500;
    color: #1a1a1a;
  }

  .faq-toggle {
    background: #e9ecef;
    border: none;
    border-radius: 4px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
    color: #6c757d;
  }

  .faq-toggle:hover {
    background: #dee2e6;
    transform: scale(1.1);
  }

  .faq-answer {
    padding: 0 2rem 1.5rem 2rem;
    color: #666;
    line-height: 1.6;
    display: none;
  }

  .faq-item.expanded .faq-answer {
    display: block;
  }

  .faq-item.expanded .faq-toggle {
    background: #007bff;
    color: white;
  }

  /* Footer */
  .soporte-footer {
    background: white;
    border-radius: 4px;
    padding: 1.5rem 2rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  }

  .footer-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 2rem;
  }

  .footer-left {
    display: flex;
    align-items: center;
    gap: 1rem;
  }

  .freshdesk-logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .freshdesk-icon {
    color: #25d366;
    font-size: 1.5rem;
  }

  .freshdesk-text {
    font-size: 1.1rem;
    font-weight: 500;
    color: #1a1a1a;
  }

  .footer-description {
    color: #666;
    font-size: 0.95rem;
    margin: 0;
  }

  .btn-soporte {
    background: #fa4517;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 0.75rem 1.5rem;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .btn-soporte:hover {
    background: #fa4517;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 107, 53, 0.3);
  }

  /* Responsive Design */
  @media screen and (max-width: 768px) {
    .soporte-section {
      padding: 4rem 1rem;
      min-height: 100vh;
    }

    .soporte-container {
      gap: 1.5rem;
      max-width: 100%;
    }

    .soporte-title-bar,
    .faq-question,
    .soporte-footer {
      padding: 1.25rem 1.5rem;
    }

    .faq-answer {
      padding: 0 1.5rem 1.25rem 1.5rem;
    }

    .footer-content {
      flex-direction: column;
      gap: 1rem;
      text-align: center;
    }

    .footer-left {
      flex-direction: column;
      gap: 0.5rem;
    }

    .btn-soporte {
      width: 100%;
      max-width: 200px;
    }
  }

  @media screen and (max-width: 480px) {
    .soporte-section {
      padding: 3rem 0.5rem;
      min-height: 100vh;
    }

    .soporte-container {
      max-width: 100%;
      padding: 0 0.5rem;
    }

    .soporte-title {
      font-size: 1.25rem;
    }

    .faq-text {
      font-size: 1rem;
    }

    .freshdesk-text {
      font-size: 1rem;
    }

    .footer-description {
      font-size: 0.9rem;
    }
  }
</style>
